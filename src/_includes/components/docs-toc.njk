{% set navPages = collections.sidebarNav | eleventyNavigation %}

{# The rendering macro #}
{% macro renderNavListItem(entry) -%}
{% for item in entry %}
 {% if item.children.length %}
	<p class="menu-label">
		<a href="{{ item.url }}">{{ item.title }}</a>
	</p>
{% else %}
	<li{% if entry.url == page.url %} class="is-active"{% endif %}>
		<a href="{{ item.url }}">{{ item.title }}</a>
	</li>
{% endif %}
{%- if item.children.length -%}
  <ul class='menu-list'>
    {{ renderNavListItem(item.children) }}
  </ul>
{%- endif -%}
{% endfor %}

{%- endmacro %}

{# Render navigation #}
{{ renderNavListItem(navPages) }}